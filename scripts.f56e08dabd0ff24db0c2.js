export function run(e,t,l){var o;console.log(e),console.log("Transform start"),console.log(e),require("moment");for(let E=0;E<e.value.length;E++){let t=new Date(e.value[E].start.dateTime);console.log("REAL = "+e.value[E].start.dateTime),console.log("START = "+t.toISOString());let l=new Date(e.value[E].end.dateTime);console.log("REAL = "+e.value[E].end.dateTime.toString()),console.log("END = "+l.toISOString());let o=new Date(e.value[E].start.dateTime);o.setTime(o.getTime()+144e5);let s=new Date(e.value[E].end.dateTime);s.setTime(s.getTime()+144e5),e.value[E].start.dateTime=o.toISOString(),e.value[E].end.dateTime=s.toISOString(),console.log("Adjusted start = "+e.value[E].start.dateTime),console.log("Adjusted End = "+e.value[E].end.dateTime)}document.getElementById("details").innerHTML="     "+t+" | "+l;var s=document.getElementById("bookings"),r=new Date,n=r.getHours(),a=r.getMinutes();a<10&&(a="0"+a);var u=[];for(let E=0;E<e.value.length;E++){var i,g;c=e.value[E].start.dateTime;var d=e.value[E].end.dateTime;for(let e=0;e<11;e++)d=d.substr(1),console.log(d);d=d.substr(0,5),console.log(d),g=d.substr(0,2),console.log(g),i=d.substr(3,6),g>n&&u.push(c),console.log(i)}u.sort();var v="";for(let E=0;E<e.value.length;E++)v=v+"||||"+u[E];for(let E=0;E<u.length;E++)for(let t=0;t<e.value.length;t++){var c;if("FILTER"!==e.value[t].location.uniqueId&&(c=e.value[t].start.dateTime)==u[E]){o=e.value[t].end.dateTime;for(let e=0;e<11;e++)c=c.substr(1);c=c.substr(0,5);for(let e=0;e<15;e++)o=o.substr(1);var m;o=o.substr(0,6),o=d,m=e.value[t].subject;var T=s.insertRow(E+1),b=T.insertCell(0);b.style.fontSize="22px";var y=T.insertCell(1);y.style.fontSize="22px",b.innerHTML=c+" - "+o,b.style.color="white",b.style.height="70px",y.innerHTML=m,y.style.color="white",y.style.height="70px";var f=e.value[t].end.dateTime;for(let e=0;e<15;e++)f=f.substr(1);var h=(f=f.substr(0,6)).substr(0,3),S=(f.substr(4,6),e.value[t].end.dateTime);for(let e=0;e<15;e++)p=f.substr(1);S=S.substr(0,6);var p=c.substr(0,2),x=c.substr(3,4);h=g,console.log("EH: "+h+"/"+n),console.log("SH: "+p+"/"+n),console.log("SM:"+x+"/"+a),h>=n&&n>=p&&(h>n?(b.style.backgroundColor="rgb(100,0,0)",b.style.height="100px",b.style.fontSize="35px",y.style.backgroundColor="rgb(100,0,0)",y.style.height="100px",y.style.fontSize="35px"):a>=x&&(b.style.backgroundColor="rgb(100,0,0)",y.style.backgroundColor="rgb(100,0,0)"))}}if(0==u.length){var I=document.getElementById("check");I.innerHTML="NO UPCOMING BOOKINGS TODAY",I.style.height="300px",I.style.backgroundColor="rgb(200,200,200)",I.style.fontSize="60px",I.style.color="rgb(200,0,0)",s.style.display="none"}console.log("Transform end")};